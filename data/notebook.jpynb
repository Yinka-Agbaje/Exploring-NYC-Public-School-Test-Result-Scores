{"cells":[{"source":"![New York City schoolbus](schoolbus.jpg)\n\nPhoto by [Jannis Lucas](https://unsplash.com/@jannis_lucas) on [Unsplash](https://unsplash.com).\n<br>\n\nEvery year, American high school students take SATs, which are standardized tests intended to measure literacy, numeracy, and writing skills. There are three sections - reading, math, and writing, each with a **maximum score of 800 points**. These tests are extremely important for students and colleges, as they play a pivotal role in the admissions process.\n\nAnalyzing the performance of schools is important for a variety of stakeholders, including policy and education professionals, researchers, government, and even parents considering which school their children should attend. \n\nYou have been provided with a dataset called `schools.csv`, which is previewed below.\n\nYou have been tasked with answering three key questions about New York City (NYC) public school SAT performance.","metadata":{},"id":"fe0ea788-58dd-459e-8976-fafdb5c05c6d","cell_type":"markdown"},{"source":"# Re-run this cell \nimport pandas as pd\n\n# Read in the data\nschools = pd.read_csv(\"schools.csv\")\n\n# Preview the data\nschools.head()\n\n# Filter schools with 80% of maximum possible score\nbest_math_schools =schools[schools[\"average_math\"] >= 0.8*800] \n\n# select only the columns of school_name and average_math\nbest_math_schools = best_math_schools[[\"school_name\", \"average_math\"]]\n\n# Sort the average_math in descending order\nbest_math_schools = best_math_schools.sort_values(\"average_math\", ascending=False)\n\n# Add a new column of total_SAT\nschools[\"total_SAT\"]= schools[\"average_math\"] + schools[\"average_reading\"] + schools[\"average_writing\"]\n\n# Sort the total_SAT DataFrame in descending order\nschools = schools.sort_values(\"total_SAT\", ascending=False)\n\n# Subset the two columns in top_10_schools\ntop_10_schools = schools[[\"school_name\", \"total_SAT\"]].head(10)\n\n# # Group by borough and calculate the required statistics\nborough_stats = schools.groupby(\"borough\").agg(\n    num_schools=(\"school_name\", \"count\"),\n    average_SAT=(\"total_SAT\", \"mean\"),\n    std_SAT=(\"total_SAT\", \"std\")\n).reset_index()\n# Find the borough with the largest standard deviation in total_SAT\nlargest_std_dev = borough_stats.loc[borough_stats[\"std_SAT\"].idxmax()]\n# Round the numeric values to two decimal places\nlargest_std_dev[\"average_SAT\"] = round(largest_std_dev[\"average_SAT\"], 2)\nlargest_std_dev[\"std_SAT\"] = round(largest_std_dev[\"std_SAT\"], 2)\n# Convert the series to a DataFrame\nlargest_std_dev = largest_std_dev.to_frame().T\nlargest_std_dev","id":"d0eb4f16-5a99-460d-a5ba-706b7ef0bbe7","cell_type":"code","outputs":[{"output_type":"execute_result","data":{"application/com.datacamp.data-table.v2+json":{"table":{"schema":{"fields":[{"name":"index","type":"integer"},{"name":"borough","type":"string"},{"name":"num_schools","type":"string"},{"name":"average_SAT","type":"string"},{"name":"std_SAT","type":"string"}],"primaryKey":["index"],"pandas_version":"1.4.0"},"data":{"index":[2],"borough":["Manhattan"],"num_schools":[89],"average_SAT":[1340.13],"std_SAT":[230.29]}},"total_rows":1,"truncation_type":null},"text/plain":"     borough num_schools average_SAT std_SAT\n2  Manhattan          89     1340.13  230.29","text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>borough</th>\n      <th>num_schools</th>\n      <th>average_SAT</th>\n      <th>std_SAT</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2</th>\n      <td>Manhattan</td>\n      <td>89</td>\n      <td>1340.13</td>\n      <td>230.29</td>\n    </tr>\n  </tbody>\n</table>\n</div>"},"metadata":{"application/com.datacamp.data-table.v2+json":{"status":"success"}},"execution_count":1}],"execution_count":1,"metadata":{"id":"bA5ajAmk7XH6","executionTime":null,"lastSuccessfullyExecutedCode":null,"executionCancelledAt":null,"lastExecutedAt":null,"lastScheduledRunId":null,"outputsMetadata":{"0":{"height":550,"type":"dataFrame","tableState":{"quickFilterText":"","customFilter":{"const":{"type":"boolean","valid":true,"value":true},"id":"f7c36f0d-4cdf-419b-935b-95d203b4aa49","nodeType":"const"}},"chartState":{"chartModel":{"modelType":"range","chartId":"id-2z742dstfny","chartType":"groupedColumn","chartThemeName":"datalabTheme","chartOptions":{"common":{"animation":{"enabled":true}}},"chartPalette":{"fills":["#6568A0","#43D7A4","#4095DB","#FACC5F","#CAE279","#F08083","#5BCDF2","#F099DC","#965858","#7DB64F","#A98954"],"strokes":["#6568A0","#43D7A4","#4095DB","#FACC5F","#CAE279","#F08083","#5BCDF2","#F099DC","#965858","#7DB64F","#A98954"],"up":{"fill":"#459d55","stroke":"#1e652e"},"down":{"fill":"#ef5452","stroke":"#a82529"},"neutral":{"fill":"#b5b5b5","stroke":"#575757"},"altUp":{"fill":"#5090dc","stroke":"#2b5c95"},"altDown":{"fill":"#ffa03a","stroke":"#cc6f10"},"altNeutral":{"fill":"#b5b5b5","stroke":"#575757"}},"cellRange":{"rowStartIndex":null,"rowStartPinned":null,"rowEndIndex":null,"rowEndPinned":null,"columns":[]},"switchCategorySeries":false,"suppressChartRanges":false,"unlinkChart":false,"version":"32.2.2"},"rangeChartModel":{"rangeColumns":[],"switchCategorySeries":false}}}},"lastExecutedByKernel":null,"visualizeDataframe":false,"version":"ag-charts-v1"}}],"metadata":{"language_info":{"name":"python","version":"3.8.10","mimetype":"text/x-python","codemirror_mode":{"name":"ipython","version":3},"pygments_lexer":"ipython3","nbconvert_exporter":"python","file_extension":".py"},"kernelspec":{"display_name":"Python 3 (ipykernel)","language":"python","name":"python3"},"editor":"DataLab"},"nbformat":4,"nbformat_minor":5}
